<div class="customLoading">
  <div class="customLoader"></div>
</div>
<div class="contract-area">
  <form [formGroup]="createContractFormGroup">
      <div class="row">
          <!-- Textual inputs start -->
          <div class="col-12 mt-5">
              <div class="card">
                  <div class="card-body">
                      <h4  class="header-title">Xem thông tin hợp đồng</h4>
                      <div class="row">
                          <div class="col-sm-6">
                              <label class="col-form-label">Phòng ký hợp đồng</label>
                              <input class="form-control mr-3 col-sm-6" type="text" formControlName="room">
                          </div>
                      </div>
                      <div class="row" *ngIf='listContractDisplay.length > 0'>
                          <div *ngFor="let mess of listContractDisplay" class="alert alert-warning col-sm-7 ml-3"
                              role="alert">
                              {{mess}}
                          </div>
                      </div>
                      <div class="row">
                          <div class="col-sm-8 col-12">
                              <label class="col-form-label">Danh sách khách thuê</label>
                              <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 text-center">
                                  <ng-container matColumnDef="name">
                                      <th mat-header-cell *matHeaderCellDef>Tên khách</th>
                                      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                                  </ng-container>
                                  <ng-container matColumnDef="phone">
                                      <th mat-header-cell *matHeaderCellDef>Số điện thoại</th>
                                      <td mat-cell *matCellDef="let element"> {{element.phone}} </td>
                                  </ng-container>
                                  <ng-container matColumnDef="address">
                                      <th mat-header-cell *matHeaderCellDef>Địa chỉ</th>
                                      <td mat-cell *matCellDef="let element"> {{element.address}} </td>
                                  </ng-container>
                                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                              </table>

                          </div>
                      </div>

                      <div class="form-group row mt-3">
                          <div class="col-sm-4">
                              <label class="col-form-label">Người đại diện</label>
                              <div class="input-group">
                                  <input type="text" class="form-control" formControlName="owner">
                              </div>

                          </div>
                          <div class="col-sm-4">
                              <label for="example-text-input" class="col-form-label">Giá phòng</label>
                              <div class="input-group">
                                  <input type="text" class="form-control input-price" formControlName="price">
                                  <div class="input-group-append">
                                      <span class="input-group-text">Đồng</span>
                                  </div>
                              </div>
                          </div>
                          <div class="col-sm-4">
                              <label for="example-text-input" class="col-form-label">Đặt cọc</label>
                              <div class="input-group">
                                  <input type="text" class="form-control input-price" formControlName="deposit">
                                  <div class="input-group-append">
                                      <span class="input-group-text">Đồng</span>
                                  </div>
                              </div>

                          </div>
                      </div>
                      <div class="form-group row">
                          <div class="col-sm-4">
                              <label for="example-text-input" class="col-form-label">Thời gian bắt đầu</label>
                              <div class="input-group">
                                <input type="text" class="form-control" formControlName="beginDate">
                              </div>
                          </div>



                          <div class="col-sm-4">
                              <label for="example-text-input" class="col-form-label">Thời gian kết thúc</label>
                              <div class="input-group">
                                <input type="text" class="form-control" formControlName="endDate">
                              </div>
                          </div>


                          <div class="col-sm-4">
                              <label for="example-text-input" class="col-form-label">Thời hạn hợp đồng</label>
                              <div class="input-group">
                                  <input type="text" class="form-control" id='period' formControlName="period"
                                      disabled>
                                  <div class="input-group-append">
                                      <span class="input-group-text">Tháng</span>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <!-- view image -->
                      <div class="row">
                          <div class="col-sm-4" *ngFor="let img of listImg, let i = index">
                              <div class="card text-center">
                                  <div class="card-body">
                                      <img [src]="img" alt="" (click)='this.viewImg(img)' style='cursor: pointer'>
                                    
                                  </div>
                              </div>
                          </div>
                      </div>
                      <!-- end view image -->


                      <div class="form-group row">
                          <div class="col-sm-11">
                              <label for="input-description" class="col-form-label">Mô tả</label>
                              <textarea class="form-control" rows="3" formControlName="description"></textarea>
                          </div>
                      </div>
                     
                      <!--  [disabled]="createContractFormGroup.invalid" -->
                      <div class="form-group row">
                          <div class="col-sm-12 mb-3">
                              <label class="col-form-label">Lịch sử cập nhật</label>
                              <div class="example-container mat-elevation-z8">
                              <table mat-table [dataSource]="contractLog" >
                                  <ng-container matColumnDef="cDate">
                                      <th mat-header-cell *matHeaderCellDef>Ngày thực hiện</th>
                                      <td mat-cell *matCellDef="let element" style="width : 13%"> {{element.cDate  | date:"dd/MM/yyyy" }}
                                      </td>
                                  </ng-container>
                                  <ng-container matColumnDef="content" class="text-center">
                                      <th mat-header-cell *matHeaderCellDef>Nội dung</th>
                                      <td mat-cell *matCellDef="let element"> {{element.content}} </td>
                                  </ng-container>
                                  <tr mat-header-row *matHeaderRowDef="displayedColumnsContractLog"></tr>
                                  <tr mat-row *matRowDef="let row; columns: displayedColumnsContractLog;"></tr>
                              </table>
                          </div>

                          </div>
                      </div>
                  </div>

              </div>

          </div>
          <!-- Textual inputs end -->
      </div>

  </form>

</div>
<div class="form-group row justify-content-end">
    <div class="mt-3 col-3">
        <input routerLink="/tenant/contract" class="btn btn-secondary float-right" type="submit" value="Trở về">
    </div>
</div>
<!-- modal view image -->

<div class="modal fade bd-example-modal-lg text-center" id="modal1">
  <div class="modal-dialog modal-lg">
      <div class="modal-content">
          <div class="modal-body">
              <img class="modalImg" alt="">
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>
          </div>
      </div>
  </div>
</div>

<!-- modal view profile tenant -->

